
{
  "entities": {
    "User": {
      "title": "User",
      "type": "object",
      "description": "Represents a user of the application."
    },
    "ChatMessage": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "ChatMessage",
      "type": "object",
      "description": "Represents a single message in a chat session.",
      "properties": {
        "id": {
          "type": "string"
        },
        "role": {
          "type": "string",
          "enum": [
            "user",
            "assistant"
          ]
        },
        "content": {
          "type": "string"
        },
        "timestamp": {
          "type": "string",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "role",
        "content",
        "timestamp"
      ]
    },
    "AgentLogStep": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "AgentLogStep",
      "type": "object",
      "description": "Stores a single log step for a message handled by the agent.",
      "properties": {
        "id": {
          "type": "string"
        },
        "timestamp": {
          "type": "string",
          "format": "date-time"
        },
        "userMessage": {
          "type": "string"
        },
        "modelResponse": {
          "type": "string"
        },
        "reasoning": {
          "type": "string"
        },
        "toolCalls": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "toolResults": {
          "type": "string"
        },
        "finalResponse": {
          "type": "string"
        }
      },
      "required": [
        "id",
        "timestamp",
        "userMessage",
        "modelResponse",
        "reasoning"
      ]
    },
    "AgentMemoryFact": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "AgentMemoryFact",
      "type": "object",
      "description": "Represents a fact stored in the agent's memory.",
      "properties": {
        "id": {
          "type": "string"
        },
        "text": {
          "type": "string"
        },
        "createdAt": {
          "type": "string",
          "format": "date-time"
        },
        "source": {
          "type": "string"
        }
      },
      "required": [
        "id",
        "text",
        "createdAt",
        "source"
      ]
    },
    "TodoItem": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "TodoItem",
      "type": "object",
      "description": "Represents a to-do item.",
      "properties": {
        "id": {
          "type": "string"
        },
        "text": {
          "type": "string"
        },
        "completed": {
          "type": "boolean"
        },
        "createdAt": {
          "type": "string",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "text",
        "completed",
        "createdAt"
      ]
    }
  },
  "auth": {
    "providers": [
      "anonymous"
    ]
  },
  "firestore": {
    "/users/{userId}": {
      "schema": {
        "$ref": "#/entities/User"
      },
      "description": "User profile information."
    },
    "/users/{userId}/sessions/{sessionId}/messages/{messageId}": {
      "schema": {
        "$ref": "#/entities/ChatMessage"
      },
      "description": "Chat messages for a specific session, owned by the user."
    },
    "/users/{userId}/agent_logs/{sessionId}/steps/{stepId}": {
      "schema": {
        "$ref": "#/entities/AgentLogStep"
      },
      "description": "Agent logs for a session, owned by the user."
    },
    "/users/{userId}/agent_memory/{sessionId}/facts/{factId}": {
      "schema": {
        "$ref": "#/entities/AgentMemoryFact"
      },
      "description": "Agent memory for a session, owned by the user."
    },
    "/users/{userId}/tool_memory/todoTool/items/{itemId}": {
      "schema": {
        "$ref": "#/entities/TodoItem"
      },
      "description": "To-do items for the user, specific to the todoTool."
    }
  }
}
